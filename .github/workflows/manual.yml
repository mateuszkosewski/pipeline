name: Manual workflow

on:
  push:

jobs:
  # This workflow contains a single job called "greet"
  greet:
    # The type of runner that the job will run on
    runs-on: ubuntu-22.04
    
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Setup MySQL
        uses: mirromutth/mysql-action@v1.1
        with:
          mysql version: 5.7
#          mysql database: 'pipeline'
          mysql user: 'walsie'
          mysql root password: 'root'

      - name: Start MySQL
        run: 'sudo service mysql start && sudo mysql -u root -proot -e "SELECT VERSION();"' 

      #- name: Cache Composer dependencies
      #  id: cache-composer
      #  uses: actions/cache@v3
      #  with:
      #    path: /tmp/composer-cache
      #    key: ${{ runner.os }}-${{ hashFiles('**/composer.lock') }}

      #- name: Setup PHP with Composer
      #  uses: shivammathur/setup-php@v2
      #  with:
      #    php-version: '8.2'
      #    tools: phpstan, composer:2.5.6

      #- name: Install Composer dependencies
      #  run: 'composer install'

      #- name: Check MySQL connection
      #  run: 'php index.php'
